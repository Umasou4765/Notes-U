/* Theme Toggle Component */

.theme-toggle,
.theme-toggle-btn {
  position: fixed;
  top: 18px;
  right: 18px;
  width: 50px;
  height: 50px;
  border-radius: 18px;
  background: var(--bg-alt);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition), background var(--transition), box-shadow .45s;
  z-index: 10;
  overflow: hidden;
  isolation: isolate;
}

.theme-toggle:hover,
.theme-toggle-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

.theme-toggle:active,
.theme-toggle-btn:active {
  transform: translateY(0) scale(.95);
}

.theme-toggle:focus,
.theme-toggle-btn:focus {
  outline: none;
  box-shadow: var(--focus-ring), var(--shadow);
}

/* Theme toggle icons */
.theme-toggle svg,
.theme-toggle-btn svg {
  width: 28px;
  height: 28px;
  transition: opacity .45s, transform .65s var(--ease);
  stroke-linecap: round;
  stroke-linejoin: round;
  display: block;
  position: absolute;
  left: 11px;
  top: 11px;
}

/* Sun icon (dark mode) */
.theme-toggle .sun-icon,
.theme-toggle .sun,
.theme-toggle-btn .sun-icon,
.theme-toggle-btn .sun {
  opacity: 0;
  transform: rotate(-40deg) scale(.6);
  stroke: #ffcf33;
  fill: rgba(255,200,0,0.10);
  filter: drop-shadow(0 0 6px rgba(255,200,0,0.55));
}

body.dark .theme-toggle .sun-icon,
body.dark .theme-toggle .sun,
body.dark .theme-toggle-btn .sun-icon,
body.dark .theme-toggle-btn .sun {
  opacity: 1;
  transform: rotate(0) scale(1);
  stroke: #ffe8a6;
  fill: rgba(255,220,120,0.15);
}

/* Moon icon (light mode) */
.theme-toggle .moon-icon,
.theme-toggle .moon,
.theme-toggle-btn .moon-icon,
.theme-toggle-btn .moon {
  opacity: 1;
  transform: rotate(0) scale(1);
  stroke: var(--text);
  fill: rgba(0,0,0,0.05);
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.25));
  transition: stroke .45s, fill .45s, opacity .45s, transform .65s var(--ease);
}

body.dark .theme-toggle .moon-icon,
body.dark .theme-toggle .moon,
body.dark .theme-toggle-btn .moon-icon,
body.dark .theme-toggle-btn .moon {
  opacity: 0;
  transform: rotate(55deg) scale(.55);
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .theme-toggle,
  .theme-toggle-btn {
    top: 15px;
    right: 15px;
    width: 44px;
    height: 44px;
    border-radius: 16px;
  }
  
  .theme-toggle svg,
  .theme-toggle-btn svg {
    width: 24px;
    height: 24px;
    left: 10px;
    top: 10px;
  }
}