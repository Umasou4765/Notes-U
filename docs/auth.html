<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="light dark">
  <title>Authenticate - Notes-U</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/app.css?v=2.0">
</head>
<body class="auth-layout">

  <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
    <svg class="moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7">
      <path d="M21 12.8A9 9 0 0112.8 3a7 7 0 100 18A9 9 0 0021 12.8z"/>
    </svg>
    <svg class="sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7">
      <circle cx="12" cy="12" r="5"/>
      <path d="M12 1v2m0 18v2m11-11h-2M3 12H1m16.95 7.07l-1.41-1.41M6.34 6.34L4.93 4.93m12.02 0l-1.41 1.41M6.34 17.66l-1.41 1.41"/>
    </svg>
  </button>

  <main class="auth-card" role="main">
    <div class="logo-sq">U</div>
    <h1 id="authHeading">Welcome Back</h1>
    <p class="lead" id="authLead">Log in to continue</p>
    
    <div id="globalStatus" class="global-status" aria-live="polite"></div>
    
    <div class="forms-shell">
      <form id="loginForm" class="auth-form active" novalidate>
        <div class="field">
          <label>Email</label>
          <input id="login-email" type="email" required placeholder="you@example.com">
          <div class="errors" id="login-email-error"></div>
        </div>
        <div class="field">
          <label>Password</label>
          <div class="input-wrap">
            <input id="login-password" type="password" required placeholder="••••••••">
            <button type="button" class="toggle-pass" data-target="login-password">Show</button>
          </div>
          <div class="errors" id="login-password-error"></div>
          <a href="#" id="forgotLink" class="forgot-link">Forgot password?</a>
        </div>
        <button type="submit" class="submit-btn" id="loginBtn">Log In</button>
      </form>
      
      <form id="signupForm" class="auth-form" novalidate hidden>
        <div class="field">
          <label>Email</label>
          <input id="signup-email" type="email" required placeholder="student@university.edu">
          <div class="errors" id="signup-email-error"></div>
        </div>
        <div class="field">
          <label>Password</label>
          <div class="input-wrap">
            <input id="signup-password" type="password" required placeholder="Min 8 chars">
            <button type="button" class="toggle-pass" data-target="signup-password">Show</button>
          </div>
          <div class="errors" id="signup-password-error"></div>
        </div>
        <div class="field">
          <label>Confirm Password</label>
          <div class="input-wrap">
            <input id="signup-confirm" type="password" required placeholder="Re-enter password">
            <button type="button" class="toggle-pass" data-target="signup-confirm">Show</button>
          </div>
          <div class="errors" id="signup-confirm-error"></div>
        </div>
        <button type="submit" class="submit-btn" id="signupBtn">Create Account</button>
      </form>
    </div>
    
    <div class="switch-links">
      <a href="#" id="linkToSignup">No account? Sign up</a>
      <a href="#" id="linkToLogin" style="display:none;">Have an account? Log in</a>
    </div>

    <section id="forgotPanel" class="forgot-panel" hidden>
      <h2>Reset Password</h2>
      <p style="font-size:0.8rem; color:var(--text-soft); margin-bottom:12px;">Enter your email to receive a reset link.</p>
      <form id="forgotForm" novalidate>
        <div class="field">
          <label>Email</label>
          <input id="forgot-email" type="email" required>
          <div class="errors" id="forgot-email-error"></div>
        </div>
        <button type="submit" class="submit-btn" id="forgotBtn">Send Link</button>
        <div class="status-line" id="forgotStatus"></div>
        <div style="text-align:center; margin-top:10px;">
          <a href="#" id="closeForgot" class="forgot-link">Back to login</a>
        </div>
      </form>
    </section>
  </main>

  <script type="module" src="./js/auth.js?v=2.0"></script>
</body>
</html>