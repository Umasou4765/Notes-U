<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <title>Notes-U</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">

  <style>
  
  </style>
</head>
<body>

  <script type="module">
    import { onAuth } from './firebase-init.js';

    const themeToggleButton = document.getElementById("theme-toggle");
    const sunIcon = themeToggleButton.querySelector(".sun-icon");
    const moonIcon = themeToggleButton.querySelector(".moon-icon");
    function setTheme(isDark) {
      if (isDark) {
        document.body.classList.add("dark");
        sunIcon.style.display = "block";
        moonIcon.style.display = "none";
      } else {
        document.body.classList.remove("dark");
        sunIcon.style.display = "none";
        moonIcon.style.display = "block";
      }
    }
    function toggleTheme() {
      const isDark = document.body.classList.toggle("dark");
      localStorage.setItem("theme", isDark ? "dark" : "light");
      setTheme(isDark);
    }
    window.addEventListener("DOMContentLoaded", () => {
      const storedTheme = localStorage.getItem("theme");
      if (storedTheme === "dark") setTheme(true);
      else if (storedTheme === "light") setTheme(false);
      else setTheme(window.matchMedia('(prefers-color-scheme: dark)').matches);
    });
    themeToggleButton.addEventListener("click", toggleTheme);
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
      if (!localStorage.getItem("theme")) setTheme(e.matches);
    });
    
    onAuth(user => {
      if (user) {
        
      }
    });
  </script>
</body>
</html>
